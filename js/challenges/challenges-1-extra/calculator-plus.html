<!DOCTYPE html>
<html>

<head>
    <title></title>
    <script type="text/javascript" src="calculator.js"></script>
    <script type="text/javascript">
    // function calculatorPlus(operador) {
    //     for (var i = 1; i < arguments.length; i++) {
    //         if(typeof arguments[i] !== 'number')
    //             throw new Error('at least one operand is not a number');
    //     }

    //     var result = arguments[1];

    //     switch (operador.toLowerCase()) {
    //         case 'sum':
    //             for (var i = 2; i < arguments.length; i++) {
    //                 result += arguments[i];
    //             }
    //             break;
    //         case 'sub':
    //             for (var i = 2; i < arguments.length; i++) {
    //                 result -= arguments[i];
    //             }
    //             break;
    //         case 'mul':
    //             for (var i = 2; i < arguments.length; i++) {
    //                 result *= arguments[i];
    //             }
    //             break;
    //         case 'div':
    //             for (var i = 2; i < arguments.length; i++) {
    //                 result /= arguments[i];
    //             }
    //     }

    //     return result;
    // }

    function calculatorPlus() {
        if (arguments.length === 0)
            throw new Error('"calculatorPlus" need arguments.');

        if (['sum', 'sub', 'mul', 'div'].indexOf(arguments[0].toLowerCase()) === -1)
            throw new Error('"calculatorPlus" forbidden operation: "' + arguments[0] + '"');

        var res = arguments[1];
        
        for (var i = 2; i < arguments.length; i++) {
            res = calculator(arguments[0], res, arguments[i]);
        }

        return res;
    }


    function testCalculatorFailsWithNotNumericOperands() {
        try {
            calculatorPlus('sum', true, 2, 'c');

            console.error('testCalculatorWorksOnlyWithNumbers', 'KO');
        } catch (err) {
            console.log('testCalculatorWorksOnlyWithNumbers', 'OK');
        }
    }

    function testCalculatorSumsOk() {
        var a = 2;
        var b = 3;
        var c = 4;

        var res = calculatorPlus('sum', a, b, c);

        if (res === a + b + c)
            console.log('testCalculatorSumsOk', 'OK');
        else
            console.error('testCalculatorSumsOk', 'KO');
    }

    function testCalculatorSubstractsOk() {
        var a = 2;
        var b = 3;
        var c = 4;

        var res = calculatorPlus('sub', a, b, c);

        if (res === a - b - c)
            console.log('testCalculatorSubstractsOk', 'OK');
        else
            console.error('testCalculatorSubstractsOk', 'KO');
    }

    function testCalculatorMultipliesOk() {
        var a = 2;
        var b = 3;
        var c = 4;

        var res = calculatorPlus('mul', a, b, c);

        if (res === a * b * c)
            console.log('testCalculatorMultipliesOk', 'OK');
        else
            console.error('testCalculatorMultipliesOk', 'KO');
    }

    function testCalculatorDividesOk() {
        var a = 2;
        var b = 3;
        var c = 4;

        var res = calculatorPlus('div', a, b, c);

        if (res === a / b / c)
            console.log('testCalculatorDividesOk', 'OK');
        else
            console.error('testCalculatorDividesOk', 'KO');
    }

    testCalculatorFailsWithNotNumericOperands();

    testCalculatorSumsOk();

    testCalculatorSubstractsOk();

    testCalculatorMultipliesOk();

    testCalculatorDividesOk();
    </script>
</head>

<body>
</body>

</html>